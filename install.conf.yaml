- defaults:
    link:
      relink: true
      create: true

- clean: ['~']

- shell:
    - git submodule update --init --recursive # Installing sub-modules

- tap:
    - homebrew/core
    - homebrew/emacs
    - homebrew/fuse
    - homebrew/services
    - homebrew/versions
    - railwaycat/emacsmacport
    - caskroom/fonts

- brew:
    - ack
    - aspell
    - bash-completion
    - cask
    - sphinx-doc
    - cmake
    - ninja
    - openssl
    - sqlite
    - python
    - clang-format
    - editorconfig
    - fasd
    - flake8
    - gdb
    - git-flow
    - global
    - hunspell
    - markdown
    - node
    - python3
    - rtags
    - the_silver_searcher
    - ripgrep
    - wget
    - zsh
    - homebrew/fuse/sshfs
    - homebrew/emacs/tern -with-auto-complete
    - railwaycat/emacsmacport/emacs-mac -with-spacemacs-icon

- cask:
    - font-inconsolata
    - font-inconsolata-for-powerline
    - font-source-code-pro

- shell:
    # Add hunspell dictionaries
    - cd ~/Library/Spelling/ && wget http://cgit.freedesktop.org/libreoffice/dictionaries/plain/en/en_GB.aff
    - cd ~/Library/Spelling/ && wget http://cgit.freedesktop.org/libreoffice/dictionaries/plain/en/en_GB.dic

    - cd ~/Library/Spelling/ && wget http://cgit.freedesktop.org/libreoffice/dictionaries/plain/sv_SE/sv_SE.aff
    - cd ~/Library/Spelling/ && wget http://cgit.freedesktop.org/libreoffice/dictionaries/plain/sv_SE/sv_SE.dic

- link:
    ~/.dotfiles: '' # Link this repository to the .dotfiles path
    ~/.spacemacs.d: spacemacs.d
    ~/.emacs.d: emacs.d
    ~/.oh-my-zsh: oh-my-zsh
    ~/.zshrc: zshrc
    ~/.zshenv: zshenv
    ~/.gitconfig: git/gitconfig
    ~/.gitignore: git/gitignore
    ~/.aliases: aliases
    ~/.ycmd: ycmd

# Install zsh as default shell
- shell:
    - [grep "/usr/local/bin/zsh" /etc/shells ||  echo /usr/local/bin/zsh | sudo tee -a /etc/shells, Installing zsh]
    - chsh -s /usr/local/bin/zsh

# Install ycmd server
- shell:
    - [cd ycmd && ./build.py --clang-completer, Installing ycmd]

# Update the shell
- shell:
    - source ~/.zshrc
